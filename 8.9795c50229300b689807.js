(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{MWW1:function(e,t,n){"use strict";n.r(t),n.d(t,"FileSystemModule",(function(){return v}));var i=n("otUU"),o=n("ofXK"),s=n("tyNb"),a=n("mrSG"),c=n("fXoL"),r=n("Wp6s"),l=n("7EHt"),b=n("bTqV");const d=["textbox"];function p(e,t){if(1&e&&(c.Ob(0),c.sc(1),c.Nb()),2&e){const e=c.ac(2);c.zb(1),c.uc("File opened: ",e.fileHandle.name,"")}}function m(e,t){if(1&e){const e=c.Rb();c.Qb(0,"button",23),c.Wb("click",(function(){c.jc(e),c.ac();const t=c.gc(12);return c.ac().saveFile(t.value)})),c.Lb(1,"img",24),c.sc(2," Save "),c.Pb()}}function u(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",12),c.Qb(1,"p",13),c.qc(2,p,2,1,"ng-container",14),c.Pb(),c.Qb(3,"div",15),c.Qb(4,"button",16),c.Wb("click",(function(){return c.jc(e),c.ac().openFile()})),c.Lb(5,"img",17),c.sc(6," Open "),c.Pb(),c.Qb(7,"button",16),c.Wb("click",(function(){c.jc(e);const t=c.gc(12);return c.ac().saveAs(t.value)})),c.Lb(8,"img",18),c.sc(9," Save as "),c.Pb(),c.qc(10,m,3,0,"button",19),c.Pb(),c.Lb(11,"textarea",20,21),c.Qb(13,"cite"),c.sc(14,"For demo purposes, only .txt files are accepted."),c.Pb(),c.Qb(15,"p",22),c.sc(16),c.Pb(),c.Pb()}if(2&e){const e=c.ac();c.zb(2),c.dc("ngIf",e.fileHandle),c.zb(8),c.dc("ngIf",e.fileHandle),c.zb(6),c.uc(" ",e.errorText," ")}}function f(e,t){if(1&e&&(c.Qb(0,"h2"),c.sc(1),c.Pb()),2&e){const e=c.ac();c.zb(1),c.tc(e.unsupportedText)}}const g=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){"chooseFileSystemEntries"in window||(this.unsupportedText="Your browser does not support Native File System API or you did not activate the Chrome flag.")}ngAfterViewInit(){this.textAreaElement=this.textarea.nativeElement}openFile(){return Object(a.a)(this,void 0,void 0,(function*(){try{this.fileHandle=yield window.chooseFileSystemEntries({type:"open-file",accepts:[{description:"Text files only",mimeTypes:["text/plain"],extensions:["txt"]}]});const e=yield this.fileHandle.getFile();this.textAreaElement.value=yield e.text()}catch(e){this.errorText=e.message,console.error(e.name,e.message)}}))}saveAs(e){return Object(a.a)(this,void 0,void 0,(function*(){try{this.fileHandle=yield window.chooseFileSystemEntries({type:"save-file",accepts:[{description:"Text files only",mimeTypes:["text/plain"],extensions:["txt"]}]}),yield this.writeTextFile(this.fileHandle,e)}catch(t){this.errorText=t.message,console.error(t.name,t.message)}}))}saveFile(e){return Object(a.a)(this,void 0,void 0,(function*(){try{if(!this.fileHandle)return yield this.saveAs(e);yield this.writeTextFile(this.fileHandle,e)}catch(t){this.errorText=t.message,console.error(t.name,t.message)}}))}writeTextFile(e,t){return Object(a.a)(this,void 0,void 0,(function*(){const n=yield e.createWritable();n.write(t),n.close()}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["app-file-system"]],viewQuery:function(e,t){var n;1&e&&c.vc(d,!0),2&e&&c.fc(n=c.Xb())&&(t.textarea=n.first)},decls:40,vars:2,consts:[[1,"content"],[1,"descr-card"],[1,"flex-centered"],["src","assets/icons/lock.png","width","24","height","24","alt","lock icon",1,"icon-space"],["src","assets/icons/warning.png","width","24","height","24","alt","warning icon",1,"icon-space"],["class","native-demo",4,"ngIf","ngIfElse"],["noSupported",""],[1,"accordion-container"],["multi","",1,"example-headers-align"],[1,"img-container"],["src","assets/images/native-file.png","alt","Native File System api support"],["href","https://caniuse.com/native-filesystem-api","target","_blank"],[1,"native-demo"],[1,"file-name"],[4,"ngIf"],[1,"action-bar"],["mat-raised-button","",3,"click"],["src","assets/icons/folder_open.png","width","24","height","24","alt","folder_open icon",1,"icon-space"],["src","assets/icons/playlist_add.png","width","24","height","24","alt","playlist_add icon",1,"icon-space"],["color","primary","mat-raised-button","",3,"click",4,"ngIf"],["name","textbox","id","textbox","rows","15","placeholder"," Start digiting your biography and save it for the future generations... \ud83d\udc47"],["textbox",""],[1,"error"],["color","primary","mat-raised-button","",3,"click"],["src","assets/icons/save.png","width","24","height","24","alt","save icon",1,"icon-space"]],template:function(e,t){if(1&e&&(c.Qb(0,"section",0),c.Qb(1,"h1"),c.sc(2,"Native File System API"),c.Pb(),c.Qb(3,"mat-card",1),c.Qb(4,"p"),c.sc(5,"The "),c.Qb(6,"strong"),c.sc(7,"Native File System API"),c.Pb(),c.sc(8," offers new features to manipulate local files providing an improved experience to our users like a native app. We don't have to download the file each time we want to edit it, but we can save it directly. We can even implement an auto-save functionality. "),c.Lb(9,"br"),c.Lb(10,"br"),c.Qb(11,"span",2),c.Lb(12,"img",3),c.Qb(13,"span"),c.sc(14,"This feature is available only over secure connections (HTTPS) and through user interaction."),c.Pb(),c.Pb(),c.Lb(15,"br"),c.Qb(16,"span",2),c.Lb(17,"img",4),c.sc(18," Still experimental "),c.Pb(),c.sc(19," Enable the "),c.Qb(20,"cite"),c.Qb(21,"strong"),c.sc(22,"Native File System"),c.Pb(),c.Pb(),c.sc(23," flag in Chrome to test it (chrome://flags/#native-file-system-api). Active by default from Chrome 86. "),c.Pb(),c.Pb(),c.qc(24,u,17,3,"div",5),c.qc(25,f,2,1,"ng-template",null,6,c.rc),c.Qb(27,"div",7),c.Qb(28,"mat-accordion",8),c.Qb(29,"mat-expansion-panel"),c.Qb(30,"mat-expansion-panel-header"),c.Qb(31,"mat-panel-title"),c.Qb(32,"h1"),c.sc(33,"Browser compatibility"),c.Pb(),c.Pb(),c.Pb(),c.Qb(34,"div",9),c.Lb(35,"img",10),c.Pb(),c.Lb(36,"br"),c.Lb(37,"br"),c.Qb(38,"a",11),c.sc(39,"Source: can I use"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e){const e=c.gc(26);c.zb(24),c.dc("ngIf",!t.unsupportedText)("ngIfElse",e)}},directives:[r.a,o.j,l.a,l.c,l.d,l.e,b.a],styles:[".native-demo[_ngcontent-%COMP%]   .action-bar[_ngcontent-%COMP%]{margin-bottom:1rem}.native-demo[_ngcontent-%COMP%]   .action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:1rem}.native-demo[_ngcontent-%COMP%]   .action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-left:0}.native-demo[_ngcontent-%COMP%]   p.file-name[_ngcontent-%COMP%]{height:20px}.native-demo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}"]}),e})()}];let h=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[s.b.forChild(g)],s.b]}),e})(),v=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[o.b,h,i.a]]}),e})()}}]);